<!doctype html>
<html lang="th">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Battery Sales Training ‚Ä¢ Panasonic (TH)</title>
    <meta name="description" content="‡πÄ‡∏ß‡πá‡∏ö‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ã‡∏•‡∏™‡πå ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á TT/MT ‡πÅ‡∏•‡∏∞ B2B ‚Äì ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏ñ‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏â‡∏≤‡∏¢" />
    <!-- Tailwind CDN (runtime) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React via CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for in-browser JSX transpilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      body { background: #f3f4f6; }
    </style>
  </head>
  <body class="min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useMemo } = React;

      // --- Simple emoji icons replacement ---
      const Ico = ({ children }) => <span className="mr-2">{children}</span>;

      // ---- Helper UI atoms ----
      const Card = ({ className = "", children }) => (
        <div className={\`rounded-2xl shadow-sm border border-gray-200 bg-white \${className}\`}>{children}</div>
      );
      const CardHeader = ({ title, subtitle, icon }) => (
        <div className="p-5 border-b border-gray-100 flex items-center gap-3">
          {icon}
          <div>
            <div className="text-lg font-semibold">{title}</div>
            {subtitle && <div className="text-sm text-gray-500">{subtitle}</div>}
          </div>
        </div>
      );
      const CardBody = ({ className = "", children }) => <div className={\`p-5 \${className}\`}>{children}</div>;
      const Tag = ({ children }) => (
        <span className="inline-flex items-center rounded-full border border-gray-200 px-2.5 py-1 text-xs text-gray-700 bg-gray-50">{children}</span>
      );
      const Pill = ({ children }) => (
        <span className="inline-flex items-center rounded-xl px-3 py-1 text-xs bg-black/5">{children}</span>
      );
      const Button = ({ children, onClick, className = "", type = "button" }) => (
        <button type={type} onClick={onClick} className={\`px-4 py-2 rounded-xl border border-gray-200 hover:border-gray-300 bg-white text-gray-800 transition active:scale-[0.98] \${className}\`}>{children}</button>
      );
      const PrimaryButton = ({ children, onClick, className = "", type = "button" }) => (
        <button type={type} onClick={onClick} className={\`px-4 py-2 rounded-xl bg-black text-white hover:bg-black/90 transition active:scale-[0.98] \${className}\`}>{children}</button>
      );

      // ---- Data ----
      const products = [
        { id: "R03GT", name: "Zinc Carbon AAA (R03GT)", segment: "Zinc Carbon", strength: ["‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏á‡πà‡∏≤‡∏¢", "‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏£‡∏µ‡πÇ‡∏°‡∏ó/‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏ö‡∏≤"], usecases: ["‡∏£‡∏µ‡πÇ‡∏°‡∏ó‡∏ó‡∏µ‡∏ß‡∏µ", "‡πÑ‡∏ü‡∏â‡∏≤‡∏¢‡πÄ‡∏•‡πá‡∏Å", "‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏´‡∏ô‡∏±‡∏Å"], unitCost: 6.5, srp: 12 },
        { id: "R6GT",  name: "Zinc Carbon AA (R6GT)" , segment: "Zinc Carbon", strength: ["‡∏ä‡πà‡∏≠‡∏á TT ‡∏Ç‡∏≤‡∏¢‡∏á‡πà‡∏≤‡∏¢", "‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏£‡πá‡∏ß"], usecases: ["‡πÑ‡∏ü‡∏â‡∏≤‡∏¢", "‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô"], unitCost: 9.0, srp: 18 },
        { id: "LR03T", name: "Alkaline AAA (LR03)"   , segment: "Alkaline",    strength: ["‡∏ó‡∏ô‡∏ô‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤ 3‚Äì5 ‡πÄ‡∏ó‡πà‡∏≤", "‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏π‡∏á"], usecases: ["‡πÑ‡∏°‡∏Ñ‡πå‡πÑ‡∏£‡πâ‡∏™‡∏≤‡∏¢", "‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå"], unitCost: 12.5, srp: 28 },
        { id: "LR6T",  name: "Alkaline AA (LR6)"     , segment: "Alkaline",    strength: ["‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ", "‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß"], usecases: ["‡∏Å‡∏•‡πâ‡∏≠‡∏á/‡πÑ‡∏ü‡∏â‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏™‡∏π‡∏á", "‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ä‡πà‡∏≤‡∏á"], unitCost: 18.5, srp: 39 },
      ];

      const objectionBank = [
        { id: 1, type: "‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏û‡∏á", reply: "‡∏û‡∏µ‡πà‡∏•‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏≠‡∏≤‡∏¢‡∏∏‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö Alkaline ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ô‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤ 3‚Äì5 ‡πÄ‡∏ó‡πà‡∏≤ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡πâ‡∏°‡∏Å‡∏ß‡πà‡∏≤‡∏ï‡πà‡∏≠‡∏ä‡∏¥‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡∏ñ‡∏µ‡πà‡πÜ ‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô" },
        { id: 2, type: "‡∏Ç‡∏≤‡∏¢‡∏¢‡∏≤‡∏Å/‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ñ‡∏≤‡∏°‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡∏ñ‡∏π‡∏Å", reply: "‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ß‡∏≤‡∏á‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô: Zinc Carbon ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡πÅ‡∏•‡∏∞ Alkaline ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡πÄ‡∏¢‡∏≠‡∏∞ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏õ‡πâ‡∏≤‡∏¢ How to choose ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô" },
        { id: 3, type: "‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏±‡πâ‡∏ô‡∏à‡∏≥‡∏Å‡∏±‡∏î", reply: "‡∏à‡∏±‡∏î Planogram 60/40 ‡πÉ‡∏´‡πâ Zinc Carbon 60% ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏£‡πá‡∏ß ‡πÅ‡∏•‡∏∞ Alkaline 40% ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤/‡∏Å‡∏≥‡πÑ‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô" },
        { id: 4, type: "‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡πÇ‡∏õ‡∏£‡πÅ‡∏£‡∏á‡πÜ", reply: "‡πÄ‡∏™‡∏ô‡∏≠ Mix-SKU deal ‡πÄ‡∏ä‡πà‡∏ô ‡∏ã‡∏∑‡πâ‡∏≠ AA 5 ‡πÇ‡∏´‡∏• ‡πÅ‡∏ñ‡∏° AAA 1 ‡πÇ‡∏´‡∏• ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° SKU/‡πÉ‡∏ö ‡πÅ‡∏•‡∏∞‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô" },
      ];

      const scenarios = [
        {
          id: "tt-visit",
          title: "Role-play: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡πÇ‡∏ä‡∏´‡πà‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å",
          customer: "‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô: \"‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ Patriot ‡∏Å‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏à‡∏µ‡∏ô ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏≠‡∏≤‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ\"",
          tasks: [
            "‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏ß‡∏à: ‡∏ñ‡∏≤‡∏° Top 5 ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥",
            "‡πÄ‡∏™‡∏ô‡∏≠‡∏ß‡∏≤‡∏á‡∏Ñ‡∏π‡πà (Good-Better): R6GT + LR6 ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏≠‡∏≤‡∏¢‡∏∏‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô",
            "‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏î‡∏µ‡∏•‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô 1 ‡∏•‡∏±‡∏á/‡∏£‡∏∏‡πà‡∏ô + ‡∏õ‡πâ‡∏≤‡∏¢ Free POP ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡∏π‡πÅ‡∏•‡∏ó‡∏∏‡∏Å 2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå",
          ],
          bestPractice: [
            "‡∏û‡∏π‡∏î‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå ‡πÄ‡∏ä‡πà‡∏ô \"‡∏Å‡∏≥‡πÑ‡∏£/‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°\" ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏Ñ‡πà‡∏™‡πÄ‡∏õ‡∏Å",
            "‡∏à‡∏î Coverage & Next visit ‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ",
          ],
          samplePitch: "‡∏û‡∏µ‡πà‡∏•‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏î‡∏µ‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏£‡πá‡∏ß (R6GT) ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡πÑ‡∏£‡∏ï‡πà‡∏≠‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡∏π‡∏á‡πÉ‡∏ä‡πâ‡∏ô‡∏≤‡∏ô (LR6) ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏á‡πà‡∏≤‡∏¢ ‡∏£‡πâ‡∏≤‡∏ô‡∏û‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏¢‡∏≠‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡πÑ‡∏£‡∏Ñ‡∏£‡∏±‡∏ö",
        },
        {
          id: "hotel-project",
          title: "Role-play: ‡πÄ‡∏™‡∏ô‡∏≠‡∏Ç‡∏≤‡∏¢‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°",
          customer: "‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°: \"‡∏Ç‡∏≠‡∏£‡∏≤‡∏Ñ‡∏≤‡∏¢‡∏Å‡∏•‡πá‡∏≠‡∏ï ‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ó‡∏ô\"",
          tasks: [
            "‡∏ñ‡∏≤‡∏° Usage ‡∏à‡∏£‡∏¥‡∏á: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏µ‡πÇ‡∏°‡∏ó/‡πÑ‡∏°‡∏Ñ‡πå/‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô",
            "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì TCO: ‡πÄ‡∏™‡∏ô‡∏≠ Alkaline ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏•‡∏î‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ñ‡πà‡∏≤‡∏ô",
            "‡πÄ‡∏™‡∏ô‡∏≠‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏™‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≤‡∏¢‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™ + ‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏™‡∏ï‡πá‡∏≠‡∏Å",
          ],
          bestPractice: ["‡πÅ‡∏ô‡∏ö‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á RoHS/‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ñ‡πâ‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£", "‡∏™‡∏£‡∏∏‡∏õ KPI ‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ñ‡πà‡∏≤‡∏ô 40%"],
          samplePitch: "‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏∞‡∏á‡∏±‡∏Å ‡πÇ‡∏î‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Alkaline ‡πÉ‡∏ô‡∏à‡∏∏‡∏î‡∏ß‡∏¥‡∏Å‡∏§‡∏ï ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ Zinc Carbon ‡πÉ‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡πà‡∏≥‡∏Ñ‡∏£‡∏±‡∏ö",
        },
      ];

      const quiz = [
        { q: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÑ‡∏´‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ Alkaline ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ Zinc Carbon?", choices: ["‡∏£‡∏µ‡πÇ‡∏°‡∏ó‡∏ó‡∏µ‡∏ß‡∏µ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ","‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏£‡∏á","‡πÑ‡∏ü‡∏â‡∏≤‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ô‡∏≤‡∏ô‡πÜ","2 ‡πÅ‡∏•‡∏∞ 3"], answer: 3, explain: "‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏¢‡∏≤‡∏ß‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö Alkaline ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤" },
        { q: "‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° SKU per Invoice ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?", choices: ["‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î","‡πÄ‡∏™‡∏ô‡∏≠ Mix-SKU deal ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á Planogram","‡∏Ç‡∏≤‡∏¢‡πÅ‡∏Ñ‡πà‡∏£‡∏∏‡πà‡∏ô‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß","‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠"], answer: 1, explain: "Mix-SKU deal + Planogram ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏•‡πâ‡∏≤‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏∏‡πà‡∏ô ‡πÄ‡∏û‡∏¥‡πà‡∏° SKU/‡πÉ‡∏ö" },
        { q: "‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î‡πÉ‡∏î‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏ö‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô TT?", choices: ["No. of Invoices", "% Effective Call", "Sales Amount", "Volume Share"], answer: 1, explain: "% Effective Call ‡∏ß‡∏±‡∏î‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏ö‡∏ó‡∏µ‡πà‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á" },
      ];

      const num = (n) => Number(n || 0);
      const currency = (n) => n.toLocaleString("th-TH", { style: "currency", currency: "THB", maximumFractionDigits: 0 });

      function SectionNav({ current, onChange }) {
        const tabs = [
          { id: "dashboard", label: "‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î", icon: "üìä" },
          { id: "playbook", label: "Playbook", icon: "üìò" },
          { id: "product", label: "Product 101", icon: "üõí" },
          { id: "objection", label: "Objection", icon: "‚ö†Ô∏è" },
          { id: "roleplay", label: "Role-play", icon: "üí¨" },
          { id: "calculator", label: "Calculator", icon: "üßÆ" },
          { id: "quiz", label: "Quiz", icon: "üß†" },
        ];
        return (
          <div className="flex flex-wrap gap-2">
            {tabs.map(t => (
              <button key={t.id} onClick={() => onChange(t.id)}
                className={\`flex items-center gap-2 px-4 py-2 rounded-2xl border text-sm transition \${current === t.id ? "bg-black text-white border-black" : "bg-white border-gray-200 hover:border-gray-300"}\`}>
                <Ico>{t.icon}</Ico>{t.label}
              </button>
            ))}
          </div>
        );
      }

      function KPIBar({ label, value, target, suffix = "" }) {
        const pct = Math.min(100, Math.round(((num(value) / Math.max(1, num(target))) * 100)));
        const pass = value >= target;
        return (
          <Card className="p-0">
            <CardHeader title={label} subtitle={\`‡πÄ‡∏õ‡πâ‡∏≤ \${target?.toLocaleString?.("th-TH")}\${suffix}\`} icon={<Ico>üéØ</Ico>} />
            <CardBody>
              <div className="flex items-center justify-between mb-2">
                <div className="text-2xl font-bold">{value?.toLocaleString?.("th-TH")}{suffix}</div>
                {pass ? <Tag><Ico>‚úÖ</Ico>‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πâ‡∏≤</Tag> : <Tag>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏•‡πà‡∏ï‡∏≤‡∏°</Tag>}
              </div>
              <div className="h-2 rounded-full bg-gray-100">
                <div className={\`h-2 rounded-full \${pass ? "bg-green-500" : "bg-gray-800"}\`} style={{ width: \`\${pct}%\` }} />
              </div>
            </CardBody>
          </Card>
        );
      }

      function Dashboard() {
        const kpi = {
          salesAmount: { value: 121_000_000 * 0.56, target: 121_000_000 },
          invoices: { value: Math.round(16_950 * 0.52), target: 16_950 },
          dropSize: { value: 7135, target: 7135 },
          skuPerInvoice: { value: 2.02, target: 2.08 },
          effectiveCall: { value: 63, target: 65, suffix: "%" },
        };
        return (
          <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5">
            <KPIBar label="Sales Amount" value={kpi.salesAmount.value} target={kpi.salesAmount.target} />
            <KPIBar label="No. of Invoices" value={kpi.invoices.value} target={kpi.invoices.target} />
            <KPIBar label="Drop Size" value={kpi.dropSize.value} target={kpi.dropSize.target} />
            <KPIBar label="SKU per Invoice" value={kpi.skuPerInvoice.value} target={kpi.skuPerInvoice.target} />
            <KPIBar label="% Effective Call" value={kpi.effectiveCall.value} target={kpi.effectiveCall.target} suffix="%" />
            <Card>
              <CardHeader title="‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå" subtitle="‡πÇ‡∏ü‡∏Å‡∏±‡∏™ TT" icon={<Ico>üìù</Ico>} />
              <CardBody>
                <ul className="space-y-2 text-sm list-disc pl-5">
                  <li>‡πÄ‡∏û‡∏¥‡πà‡∏° <b>SKU/‡πÉ‡∏ö</b> ‡∏î‡πâ‡∏ß‡∏¢ Mix-SKU deal (AA+AAA)</li>
                  <li>‡∏ú‡∏•‡∏±‡∏Å‡∏î‡∏±‡∏ô <b>Alkaline share</b> ‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡∏ò‡∏á 50 ‡πÅ‡∏´‡πà‡∏á</li>
                  <li>‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á <b>POP/‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏≠‡∏≤‡∏¢‡∏∏‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</b> ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡πÄ‡∏ã‡πá‡∏ï</li>
                </ul>
              </CardBody>
            </Card>
          </div>
        );
      }

      function Playbook() {
        return (
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-5">
            <Card>
              <CardHeader title="Segmentation & Targeting" subtitle="‡πÅ‡∏ö‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô" icon={<Ico>üè∑Ô∏è</Ico>} />
              <CardBody>
                <div className="space-y-3 text-sm">
                  <div className="flex items-center gap-2"><Pill>TT</Pill> ‡πÇ‡∏ä‡∏´‡πà‡∏ß‡∏¢/‡∏Ñ‡πâ‡∏≤‡∏™‡πà‡∏á: ‡∏î‡∏±‡∏ô Zinc Carbon ‡πÄ‡∏õ‡πá‡∏ô‡∏ê‡∏≤‡∏ô + Alkaline ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≥‡πÑ‡∏£</div>
                  <div className="flex items-center gap-2"><Pill>MT</Pill> ‡∏£‡∏ß‡∏°‡πÅ‡∏û‡πá‡∏Å/‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ï‡∏≤‡∏°‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•</div>
                  <div className="flex items-center gap-2"><Pill>B2B/Project</Pill> ‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°/‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô: ‡∏ô‡∏≥‡∏î‡πâ‡∏ß‡∏¢ Alkaline + SLA ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</div>
                </div>
              </CardBody>
            </Card>
            <Card>
              <CardHeader title="Key Messages" subtitle="‡∏û‡∏π‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤" icon={<Ico>üó£Ô∏è</Ico>} />
              <CardBody>
                <ul className="space-y-2 text-sm list-disc pl-5">
                  <li><b>‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß:</b> Alkaline ‡∏ó‡∏ô‡∏ô‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤ 3‚Äì5 ‡πÄ‡∏ó‡πà‡∏≤ ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ñ‡πà‡∏≤‡∏ô</li>
                  <li><b>‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå:</b> ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°</li>
                  <li><b>Gross Margin ‡∏î‡∏µ:</b> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≥‡πÑ‡∏£‡∏ï‡πà‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á</li>
                </ul>
              </CardBody>
            </Card>
            <Card className="lg:col-span-2">
              <CardHeader title="Call Flow (TT)" subtitle="‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö 6 ‡∏Ç‡∏±‡πâ‡∏ô" icon={<Ico>üöö</Ico>} />
              <CardBody>
                <ol className="grid sm:grid-cols-3 gap-3 text-sm">
                  {["‡∏ó‡∏±‡∏Å+‡πÄ‡∏ä‡πá‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô","‡∏ñ‡∏≤‡∏°‡∏á‡∏≤‡∏ô‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á/‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤","‡πÄ‡∏™‡∏ô‡∏≠‡∏ß‡∏≤‡∏á‡∏Ñ‡∏π‡πà Good-Better","‡πÇ‡∏ä‡∏ß‡πå POP/Planogram","‡∏õ‡∏¥‡∏î‡∏î‡∏µ‡∏• Mix-SKU + ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥","‡∏ô‡∏±‡∏î‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° 2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå"].map((t,i)=> (
                    <li key={i} className="p-3 rounded-xl bg-gray-50">{i+1}. {t}</li>
                  ))}
                </ol>
              </CardBody>
            </Card>
          </div>
        );
      }

      function Product101() {
        return (
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-5">
            {products.map((p)=> (
              <Card key={p.id}>
                <CardHeader title={p.name} subtitle={p.segment} icon={<Ico>üõí</Ico>} />
                <CardBody>
                  <div className="flex flex-wrap gap-2 mb-3">
                    {p.strength.map((s,idx)=>(<Tag key={idx}>{s}</Tag>))}
                  </div>
                  <div className="text-sm text-gray-600 mb-4">
                    <b>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:</b> {p.usecases.join(" ‚Ä¢ ")}
                  </div>
                  <div className="text-xs text-gray-500">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì: {currency(p.unitCost)} / ‡∏ä‡∏¥‡πâ‡∏ô ‚Ä¢ SRP: {currency(p.srp)} / ‡∏ä‡∏¥‡πâ‡∏ô</div>
                </CardBody>
              </Card>
            ))}
            <Card className="lg:col-span-2">
              <CardHeader title="How to choose" subtitle="‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏£‡πá‡∏ß" icon={<Ico>‚úÖ</Ico>} />
              <CardBody>
                <div className="grid sm:grid-cols-3 gap-3 text-sm">
                  <div className="p-3 rounded-xl bg-gray-50">
                    <div className="font-semibold">Zinc Carbon</div>
                    <div>- ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ, ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î</div>
                    <div>- ‡∏£‡∏µ‡πÇ‡∏°‡∏ó, ‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏ö‡∏≤</div>
                  </div>
                  <div className="p-3 rounded-xl bg-gray-50">
                    <div className="font-semibold">Alkaline</div>
                    <div>- ‡∏ó‡∏ô‡∏Å‡∏ß‡πà‡∏≤ 3‚Äì5 ‡πÄ‡∏ó‡πà‡∏≤</div>
                    <div>- ‡πÑ‡∏°‡∏Ñ‡πå‡πÑ‡∏£‡πâ‡∏™‡∏≤‡∏¢, ‡πÑ‡∏ü‡∏â‡∏≤‡∏¢‡πÅ‡∏£‡∏á</div>
                  </div>
                  <div className="p-3 rounded-xl bg-gray-50">
                    <div className="font-semibold">Rechargeable*</div>
                    <div>- ‡πÉ‡∏ä‡πâ‡∏ã‡πâ‡∏≥ ‡∏Ñ‡∏∏‡πâ‡∏°‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß</div>
                    <div className="text-[11px] text-gray-500">*‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>
                  </div>
                </div>
              </CardBody>
            </Card>
          </div>
        );
      }

      function Objection() {
        const [filter, setFilter] = useState("");
        const list = objectionBank.filter(o => o.type.includes(filter) || o.reply.includes(filter));
        return (
          <Card>
            <CardHeader title="Objection Handling" subtitle="‡∏Ñ‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°" icon={<Ico>‚ö†Ô∏è</Ico>} />
            <CardBody>
              <div className="mb-3">
                <input value={filter} onChange={(e)=>setFilter(e.target.value)} placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏≤‡∏Ñ‡∏≤, ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏±‡πâ‡∏ô" className="w-full rounded-xl border border-gray-200 px-3 py-2 text-sm"/>
              </div>
              <div className="space-y-3">
                {list.map((o)=> (
                  <div key={o.id} className="p-3 rounded-xl bg-gray-50">
                    <div className="text-sm"><b>‡∏Ç‡πâ‡∏≠‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á:</b> {o.type}</div>
                    <div className="text-sm text-gray-700 mt-1"><b>‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ï‡∏≠‡∏ö:</b> {o.reply}</div>
                  </div>
                ))}
                {list.length===0 && <div className="text-sm text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</div>}
              </div>
            </CardBody>
          </Card>
        );
      }

      function Roleplay() {
        const [i, setI] = useState(0);
        const s = scenarios[i];
        const [show, setShow] = useState(false);
        useEffect(()=> setShow(false), [i]);
        return (
          <Card>
            <CardHeader title={s.title} subtitle={<span className="text-gray-500">Scenario {i+1} / {scenarios.length}</span>} icon={<Ico>üí¨</Ico>} />
            <CardBody>
              <div className="flex flex-wrap items-center justify-between gap-3 mb-4">
                <div className="text-sm text-gray-600">{s.customer}</div>
                <div className="flex gap-2">
                  <Button onClick={()=> setI(Math.max(0, i-1))}><span className="mr-1">‚Äπ</span> ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</Button>
                  <Button onClick={()=> setI(Math.min(scenarios.length-1, i+1))}>‡∏ñ‡∏±‡∏î‡πÑ‡∏õ <span className="ml-1">‚Ä∫</span></Button>
                </div>
              </div>
              <div className="grid md:grid-cols-2 gap-4">
                <div className="p-3 rounded-xl bg-gray-50">
                  <div className="font-semibold mb-2">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à</div>
                  <ul className="list-disc pl-5 space-y-1 text-sm">
                    {s.tasks.map((t,idx)=>(<li key={idx}>{t}</li>))}
                  </ul>
                </div>
                <div className="p-3 rounded-xl bg-gray-50">
                  <div className="font-semibold mb-2">Best Practice</div>
                  <ul className="list-disc pl-5 space-y-1 text-sm">
                    {s.bestPractice.map((t,idx)=>(<li key={idx}>{t}</li>))}
                  </ul>
                </div>
              </div>
              <div className="mt-4">
                {!show ? (
                  <PrimaryButton onClick={()=> setShow(true)}>‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</PrimaryButton>
                ) : (
                  <div className="p-3 rounded-xl bg-black text-white text-sm">{s.samplePitch}</div>
                )}
              </div>
            </CardBody>
          </Card>
        );
      }

      function SalesCalculator() {
        const [form, setForm] = useState({ sku: "LR6T", qty: 120, unitCost: 18.5, sellPrice: 32, discount: 5, invoices: 30, van: 3, days: 5 });
        const selected = useMemo(()=> products.find(p=> p.id === form.sku) || products[0], [form.sku]);

        useEffect(()=> {
          setForm(f => ({ ...f, unitCost: selected.unitCost, sellPrice: selected.srp }));
        }, [selected.id]);

        const marginPerUnit = useMemo(()=> num(form.sellPrice) - num(form.discount) - num(form.unitCost), [form]);
        const marginPct = useMemo(()=> ((marginPerUnit / Math.max(0.01, num(form.sellPrice))) * 100).toFixed(1), [marginPerUnit, form.sellPrice]);
        const revenue = useMemo(()=> (num(form.sellPrice) - num(form.discount)) * num(form.qty), [form]);
        const gm = useMemo(()=> marginPerUnit * num(form.qty), [marginPerUnit, form.qty]);
        const invPerVanPerDay = useMemo(()=> (num(form.invoices) / Math.max(1, num(form.van)) / Math.max(1, num(form.days))).toFixed(2), [form]);

        return (
          <div className="grid grid-cols-1 lg:grid-cols-5 gap-5">
            <Card className="lg:col-span-2">
              <CardHeader title="Deal Builder" subtitle="‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÇ‡∏õ‡∏£/‡∏î‡∏µ‡∏•‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô" icon={<Ico>üßÆ</Ico>} />
              <CardBody>
                <div className="grid grid-cols-2 gap-3 text-sm">
                  <label className="col-span-2">SKU
                    <select value={form.sku} onChange={(e)=> setForm({...form, sku: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2">
                      {products.map(p=> <option key={p.id} value={p.id}>{p.name}</option>)}
                    </select>
                  </label>
                  <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏ä‡∏¥‡πâ‡∏ô)
                    <input type="number" value={form.qty} onChange={(e)=> setForm({...form, qty: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                  </label>
                  <label>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô/‡∏ä‡∏¥‡πâ‡∏ô (‡∏ö‡∏≤‡∏ó)
                    <input type="number" value={form.unitCost} onChange={(e)=> setForm({...form, unitCost: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                  </label>
                  <label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢/‡∏ä‡∏¥‡πâ‡∏ô (‡∏ö‡∏≤‡∏ó)
                    <input type="number" value={form.sellPrice} onChange={(e)=> setForm({...form, sellPrice: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                  </label>
                  <label>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î/‡∏ä‡∏¥‡πâ‡∏ô (‡∏ö‡∏≤‡∏ó)
                    <input type="number" value={form.discount} onChange={(e)=> setForm({...form, discount: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                  </label>
                </div>
                <div className="mt-4 flex gap-2">
                  <Tag>Margin/‡∏ä‡∏¥‡πâ‡∏ô: {currency(marginPerUnit)}</Tag>
                  <Tag>GM%: {marginPct}%</Tag>
                </div>
              </CardBody>
            </Card>

            <Card className="lg:col-span-3">
              <CardHeader title="‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏î‡∏µ‡∏•" subtitle="‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥" icon={<Ico>üìà</Ico>} />
              <CardBody>
                <div className="grid sm:grid-cols-3 gap-3 text-sm">
                  <div className="p-3 rounded-xl bg-gray-50"><div className="text-gray-500">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ (‡∏´‡∏•‡∏±‡∏á‡∏´‡∏±‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î)</div><div className="text-xl font-semibold">{currency(revenue)}</div></div>
                  <div className="p-3 rounded-xl bg-gray-50"><div className="text-gray-500">‡∏Å‡∏≥‡πÑ‡∏£‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏£‡∏ß‡∏°</div><div className="text-xl font-semibold">{currency(gm)}</div></div>
                  <div className="p-3 rounded-xl bg-gray-50"><div className="text-gray-500">GM% ‡∏ï‡πà‡∏≠‡∏ä‡∏¥‡πâ‡∏ô</div><div className="text-xl font-semibold">{marginPct}%</div></div>
                </div>
                <div className="mt-4 border-t pt-4">
                  <div className="grid sm:grid-cols-3 gap-3">
                    <label className="text-sm">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏¥‡∏•/‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå
                      <input type="number" value={form.invoices} onChange={(e)=> setForm({...form, invoices: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                    </label>
                    <label className="text-sm">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏ñ (van)
                      <input type="number" value={form.van} onChange={(e)=> setForm({...form, van: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                    </label>
                    <label className="text-sm">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô/‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå
                      <input type="number" value={form.days} onChange={(e)=> setForm({...form, days: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                    </label>
                  </div>
                  <div className="mt-3"><Tag>Invoice/Van/Day: {invPerVanPerDay}</Tag></div>
                </div>
              </CardBody>
            </Card>
          </div>
        );
      }

      function Quiz() {
        const [step, setStep] = useState(0);
        const [score, setScore] = useState(0);
        const [answers, setAnswers] = useState([]);

        const onSelect = (i) => {
          if (answers[step] != null) return;
          const correct = i === quiz[step].answer;
          setAnswers((a)=> { const b = [...a]; b[step] = i; return b; });
          if (correct) setScore((s)=> s+1);
        };
        const restart = () => { setStep(0); setScore(0); setAnswers([]); };

        if (step >= quiz.length) {
          const pct = Math.round((score / quiz.length) * 100);
          return (
            <Card>
              <CardHeader title="‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö" subtitle={\`‡πÑ‡∏î‡πâ \${score} ‡∏à‡∏≤‡∏Å \${quiz.length} ‡∏Ç‡πâ‡∏≠ (\${pct}%)\`} icon={<Ico>üèÜ</Ico>} />
              <CardBody>
                <div className="flex items-center gap-2 mb-4">
                  <Tag>{pct >= 80 ? "‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°!" : pct >= 60 ? "‡∏î‡∏µ‡∏°‡∏≤‡∏Å" : "‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î"}</Tag>
                  <Button onClick={restart}>‡∏ó‡∏≥‡πÉ‡∏´‡∏°‡πà</Button>
                </div>
                <div className="text-sm text-gray-600">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏ó‡∏ß‡∏ô‡∏™‡πà‡∏ß‡∏ô Playbook ‡πÅ‡∏•‡∏∞ Role‚Äëplay ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢ Alkaline</div>
              </CardBody>
            </Card>
          );
        }

        const q = quiz[step];
        return (
          <Card>
            <CardHeader title={\`‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà \${step+1}: \${q.q}\`} subtitle={<span className="text-gray-500">{score} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>} icon={<Ico>üß†</Ico>} />
            <CardBody>
              <div className="grid gap-3">
                {q.choices.map((c, i)=> {
                  const selected = answers[step] === i;
                  const correct = q.answer === i;
                  return (
                    <button key={i} onClick={()=> onSelect(i)} className={\`text-left p-3 rounded-xl border transition \${selected ? (correct ? "border-green-500 bg-green-50" : "border-red-500 bg-red-50") : "border-gray-200 hover:border-gray-300"}\`}>
                      {c}
                    </button>
                  );
                })}
              </div>
              {answers[step] != null && (
                <div className="mt-3 p-3 rounded-xl bg-gray-50 text-sm text-gray-700">
                  ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢: {q.explain}
                </div>
              )}
              <div className="mt-4 flex justify-between">
                <Button onClick={()=> setStep(Math.max(0, step-1))}>‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</Button>
                <PrimaryButton onClick={()=> setStep(step+1)}>‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</PrimaryButton>
              </div>
            </CardBody>
          </Card>
        );
      }

      function App() {
        const [tab, setTab] = useState("dashboard");
        return (
          <div className="min-h-screen p-4 md:p-8">
            <div className="max-w-7xl mx-auto">
              <header className="mb-6 flex flex-col md:flex-row md:items-end md:justify-between gap-4">
                <div>
                  <h1 className="text-2xl md:text-3xl font-bold tracking-tight">Battery Sales Training ‚Ä¢ Panasonic (TH)</h1>
                  <p className="text-gray-600 mt-1 text-sm">‡πÄ‡∏ß‡πá‡∏ö‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ã‡∏•‡∏™‡πå ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á TT/MT ‡πÅ‡∏•‡∏∞ B2B ‚Äì ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏ñ‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏â‡∏≤‡∏¢</p>
                </div>
                <SectionNav current={tab} onChange={setTab} />
              </header>

              <main className="space-y-6">
                {tab === "dashboard" && <Dashboard />}
                {tab === "playbook" && <Playbook />}
                {tab === "product" && <Product101 />}
                {tab === "objection" && <Objection />}
                {tab === "roleplay" && <Roleplay />}
                {tab === "calculator" && <SalesCalculator />}
                {tab === "quiz" && <Quiz />}
              </main>

              <footer className="text-xs text-gray-500 mt-8 flex items-center gap-2">
                <span>üí°</span> Tip: ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤/‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
              </footer>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
