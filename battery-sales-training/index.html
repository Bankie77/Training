<!doctype html>
<html lang="th">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Battery Sales Training • Panasonic (TH)</title>
    <meta name="description" content="เว็บฝึกอบรมสำหรับเซลส์ ช่องทาง TT/MT และ B2B – โฟกัสการขายถ่านไฟฉาย" />
    <!-- Tailwind CDN (runtime) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React via CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for in-browser JSX transpilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      body { background: #f3f4f6; }
    </style>
  </head>
  <body class="min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useMemo } = React;

      // --- Simple emoji icons replacement ---
      const Ico = ({ children }) => <span className="mr-2">{children}</span>;

      // ---- Helper UI atoms ----
      const Card = ({ className = "", children }) => (
        <div className={\`rounded-2xl shadow-sm border border-gray-200 bg-white \${className}\`}>{children}</div>
      );
      const CardHeader = ({ title, subtitle, icon }) => (
        <div className="p-5 border-b border-gray-100 flex items-center gap-3">
          {icon}
          <div>
            <div className="text-lg font-semibold">{title}</div>
            {subtitle && <div className="text-sm text-gray-500">{subtitle}</div>}
          </div>
        </div>
      );
      const CardBody = ({ className = "", children }) => <div className={\`p-5 \${className}\`}>{children}</div>;
      const Tag = ({ children }) => (
        <span className="inline-flex items-center rounded-full border border-gray-200 px-2.5 py-1 text-xs text-gray-700 bg-gray-50">{children}</span>
      );
      const Pill = ({ children }) => (
        <span className="inline-flex items-center rounded-xl px-3 py-1 text-xs bg-black/5">{children}</span>
      );
      const Button = ({ children, onClick, className = "", type = "button" }) => (
        <button type={type} onClick={onClick} className={\`px-4 py-2 rounded-xl border border-gray-200 hover:border-gray-300 bg-white text-gray-800 transition active:scale-[0.98] \${className}\`}>{children}</button>
      );
      const PrimaryButton = ({ children, onClick, className = "", type = "button" }) => (
        <button type={type} onClick={onClick} className={\`px-4 py-2 rounded-xl bg-black text-white hover:bg-black/90 transition active:scale-[0.98] \${className}\`}>{children}</button>
      );

      // ---- Data ----
      const products = [
        { id: "R03GT", name: "Zinc Carbon AAA (R03GT)", segment: "Zinc Carbon", strength: ["ราคาเข้าถึงง่าย", "เหมาะกับรีโมท/ของเล่นเบา"], usecases: ["รีโมททีวี", "ไฟฉายเล็ก", "ของเล่นไม่ใช้มอเตอร์หนัก"], unitCost: 6.5, srp: 12 },
        { id: "R6GT",  name: "Zinc Carbon AA (R6GT)" , segment: "Zinc Carbon", strength: ["ช่อง TT ขายง่าย", "หมุนเร็ว"], usecases: ["ไฟฉาย", "ของเล่น"], unitCost: 9.0, srp: 18 },
        { id: "LR03T", name: "Alkaline AAA (LR03)"   , segment: "Alkaline",    strength: ["ทนนานกว่า 3–5 เท่า", "เหมาะกับโหลดสูง"], usecases: ["ไมค์ไร้สาย", "ของเล่นมอเตอร์"], unitCost: 12.5, srp: 28 },
        { id: "LR6T",  name: "Alkaline AA (LR6)"     , segment: "Alkaline",    strength: ["แบรนด์เชื่อถือได้", "คุ้มค่าระยะยาว"], usecases: ["กล้อง/ไฟฉายแรงสูง", "อุปกรณ์ช่าง"], unitCost: 18.5, srp: 39 },
      ];

      const objectionBank = [
        { id: 1, type: "ราคาแพง", reply: "พี่ลองเทียบอายุการใช้งานครับ Alkaline ใช้ได้นานกว่า 3–5 เท่า ทำให้คุ้มกว่าต่อชิ้นและลดการกลับมาซื้อถี่ๆ ของลูกค้าในร้าน" },
        { id: 2, type: "ขายยาก/ลูกค้าถามหาของถูก", reply: "แนะนำวางคู่กัน: Zinc Carbon สำหรับงานทั่วไป และ Alkaline สำหรับงานที่ใช้ไฟเยอะ พร้อมป้าย How to choose จะช่วยปิดการขายได้ง่ายขึ้น" },
        { id: 3, type: "พื้นที่ชั้นจำกัด", reply: "จัด Planogram 60/40 ให้ Zinc Carbon 60% เพื่อความหมุนเร็ว และ Alkaline 40% เพื่อมูลค่า/กำไรที่สูงขึ้น" },
        { id: 4, type: "อยากได้โปรแรงๆ", reply: "เสนอ Mix-SKU deal เช่น ซื้อ AA 5 โหล แถม AAA 1 โหล เพื่อเพิ่ม SKU/ใบ และขยายฐานการใช้ในร้าน" },
      ];

      const scenarios = [
        {
          id: "tt-visit",
          title: "Role-play: เข้าร้านโชห่วยครั้งแรก",
          customer: "เจ้าของร้าน: \"ของเดิมมี Patriot กับของจีน ราคาถูก ลูกค้าเอาอันนี้\"",
          tasks: [
            "เปิดด้วยการสำรวจ: ถาม Top 5 สินค้าขายดีและกลุ่มลูกค้าประจำ",
            "เสนอวางคู่ (Good-Better): R6GT + LR6 พร้อมป้ายเทียบอายุการใช้งาน",
            "ปิดด้วยดีลเริ่มต้น 1 ลัง/รุ่น + ป้าย Free POP และสัญญาเข้าดูแลทุก 2 สัปดาห์",
          ],
          bestPractice: [
            "พูดประโยชน์เชิงผลลัพธ์ เช่น \"กำไร/พื้นที่เพิ่ม\" มากกว่าแค่สเปก",
            "จด Coverage & Next visit ในแอปทันที",
          ],
          samplePitch: "พี่ลองวางคู่กันนะครับ อันนี้ราคาดีหมุนเร็ว (R6GT) และอันนี้กำไรต่อชิ้นสูงใช้นาน (LR6) ลูกค้าจะเลือกง่าย ร้านพี่ได้ทั้งยอดและกำไรครับ",
        },
        {
          id: "hotel-project",
          title: "Role-play: เสนอขายโรงแรม",
          customer: "จัดซื้อโรงแรม: \"ขอราคายกล็อต และอยากให้ทน\"",
          tasks: [
            "ถาม Usage จริง: จำนวนรีโมท/ไมค์/อุปกรณ์ฉุกเฉิน",
            "คำนวณ TCO: เสนอ Alkaline สำหรับงานสำคัญ ลดงานเปลี่ยนถ่าน",
            "เสนอเงื่อนไขส่งเป็นรายไตรมาส + สำรองสต็อก",
          ],
          bestPractice: ["แนบใบรับรอง RoHS/คุณภาพถ้าลูกค้าต้องการ", "สรุป KPI หลังติดตั้ง เช่น ลดการเปลี่ยนถ่าน 40%"],
          samplePitch: "เราจะช่วยลดต้นทุนแรงงานและการหยุดชะงัก โดยเลือก Alkaline ในจุดวิกฤต และใช้ Zinc Carbon ในอุปกรณ์โหลดต่ำครับ",
        },
      ];

      const quiz = [
        { q: "สถานการณ์ไหนที่ควรแนะนำ Alkaline มากกว่า Zinc Carbon?", choices: ["รีโมททีวีทั่วไป","ของเล่นที่ใช้มอเตอร์แรง","ไฟฉายสำหรับฉุกเฉินที่ใช้นานๆ","2 และ 3"], answer: 3, explain: "โหลดสูงและใช้งานยาวเหมาะกับ Alkaline เพื่อความทนทานและคุ้มค่า" },
        { q: "ถ้าต้องการเพิ่ม SKU per Invoice ควรทำอะไร?", choices: ["ลดราคาให้มากที่สุด","เสนอ Mix-SKU deal และแสดง Planogram","ขายแค่รุ่นขายดีตัวเดียว","เพิ่มขั้นต่ำการสั่งซื้อ"], answer: 1, explain: "Mix-SKU deal + Planogram ทำให้ร้านกล้าลองหลายรุ่น เพิ่ม SKU/ใบ" },
        { q: "ตัวชี้วัดใดสะท้อนคุณภาพการเข้าพบมากที่สุดใน TT?", choices: ["No. of Invoices", "% Effective Call", "Sales Amount", "Volume Share"], answer: 1, explain: "% Effective Call วัดสัดส่วนเข้าพบที่ปิดการขายได้จริง" },
      ];

      const num = (n) => Number(n || 0);
      const currency = (n) => n.toLocaleString("th-TH", { style: "currency", currency: "THB", maximumFractionDigits: 0 });

      function SectionNav({ current, onChange }) {
        const tabs = [
          { id: "dashboard", label: "แดชบอร์ด", icon: "📊" },
          { id: "playbook", label: "Playbook", icon: "📘" },
          { id: "product", label: "Product 101", icon: "🛒" },
          { id: "objection", label: "Objection", icon: "⚠️" },
          { id: "roleplay", label: "Role-play", icon: "💬" },
          { id: "calculator", label: "Calculator", icon: "🧮" },
          { id: "quiz", label: "Quiz", icon: "🧠" },
        ];
        return (
          <div className="flex flex-wrap gap-2">
            {tabs.map(t => (
              <button key={t.id} onClick={() => onChange(t.id)}
                className={\`flex items-center gap-2 px-4 py-2 rounded-2xl border text-sm transition \${current === t.id ? "bg-black text-white border-black" : "bg-white border-gray-200 hover:border-gray-300"}\`}>
                <Ico>{t.icon}</Ico>{t.label}
              </button>
            ))}
          </div>
        );
      }

      function KPIBar({ label, value, target, suffix = "" }) {
        const pct = Math.min(100, Math.round(((num(value) / Math.max(1, num(target))) * 100)));
        const pass = value >= target;
        return (
          <Card className="p-0">
            <CardHeader title={label} subtitle={\`เป้า \${target?.toLocaleString?.("th-TH")}\${suffix}\`} icon={<Ico>🎯</Ico>} />
            <CardBody>
              <div className="flex items-center justify-between mb-2">
                <div className="text-2xl font-bold">{value?.toLocaleString?.("th-TH")}{suffix}</div>
                {pass ? <Tag><Ico>✅</Ico>ถึงเป้า</Tag> : <Tag>กำลังไล่ตาม</Tag>}
              </div>
              <div className="h-2 rounded-full bg-gray-100">
                <div className={\`h-2 rounded-full \${pass ? "bg-green-500" : "bg-gray-800"}\`} style={{ width: \`\${pct}%\` }} />
              </div>
            </CardBody>
          </Card>
        );
      }

      function Dashboard() {
        const kpi = {
          salesAmount: { value: 121_000_000 * 0.56, target: 121_000_000 },
          invoices: { value: Math.round(16_950 * 0.52), target: 16_950 },
          dropSize: { value: 7135, target: 7135 },
          skuPerInvoice: { value: 2.02, target: 2.08 },
          effectiveCall: { value: 63, target: 65, suffix: "%" },
        };
        return (
          <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5">
            <KPIBar label="Sales Amount" value={kpi.salesAmount.value} target={kpi.salesAmount.target} />
            <KPIBar label="No. of Invoices" value={kpi.invoices.value} target={kpi.invoices.target} />
            <KPIBar label="Drop Size" value={kpi.dropSize.value} target={kpi.dropSize.target} />
            <KPIBar label="SKU per Invoice" value={kpi.skuPerInvoice.value} target={kpi.skuPerInvoice.target} />
            <KPIBar label="% Effective Call" value={kpi.effectiveCall.value} target={kpi.effectiveCall.target} suffix="%" />
            <Card>
              <CardHeader title="ภารกิจประจำสัปดาห์" subtitle="โฟกัส TT" icon={<Ico>📝</Ico>} />
              <CardBody>
                <ul className="space-y-2 text-sm list-disc pl-5">
                  <li>เพิ่ม <b>SKU/ใบ</b> ด้วย Mix-SKU deal (AA+AAA)</li>
                  <li>ผลักดัน <b>Alkaline share</b> ในร้านเรือธง 50 แห่ง</li>
                  <li>ติดตั้ง <b>POP/ป้ายเทียบอายุการใช้งาน</b> ให้ครบเซ็ต</li>
                </ul>
              </CardBody>
            </Card>
          </div>
        );
      }

      function Playbook() {
        return (
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-5">
            <Card>
              <CardHeader title="Segmentation & Targeting" subtitle="แบ่งลูกค้าตามการใช้งาน" icon={<Ico>🏷️</Ico>} />
              <CardBody>
                <div className="space-y-3 text-sm">
                  <div className="flex items-center gap-2"><Pill>TT</Pill> โชห่วย/ค้าส่ง: ดัน Zinc Carbon เป็นฐาน + Alkaline เป็นกำไร</div>
                  <div className="flex items-center gap-2"><Pill>MT</Pill> รวมแพ็ก/โปรโมชั่นตามฤดูกาล</div>
                  <div className="flex items-center gap-2"><Pill>B2B/Project</Pill> โรงแรม/โรงงาน: นำด้วย Alkaline + SLA บริการ</div>
                </div>
              </CardBody>
            </Card>
            <Card>
              <CardHeader title="Key Messages" subtitle="พูดอะไรกับลูกค้า" icon={<Ico>🗣️</Ico>} />
              <CardBody>
                <ul className="space-y-2 text-sm list-disc pl-5">
                  <li><b>คุ้มค่าระยะยาว:</b> Alkaline ทนนานกว่า 3–5 เท่า ลดการเปลี่ยนถ่าน</li>
                  <li><b>เชื่อมั่นแบรนด์:</b> คุณภาพสม่ำเสมอ บริการหลังการขายดีเยี่ยม</li>
                  <li><b>Gross Margin ดี:</b> สร้างกำไรต่อพื้นที่ชั้นวาง</li>
                </ul>
              </CardBody>
            </Card>
            <Card className="lg:col-span-2">
              <CardHeader title="Call Flow (TT)" subtitle="สคริปต์กระชับ 6 ขั้น" icon={<Ico>🚚</Ico>} />
              <CardBody>
                <ol className="grid sm:grid-cols-3 gap-3 text-sm">
                  {["ทัก+เช็กสินค้าปัจจุบัน","ถามงานใช้จริง/กลุ่มลูกค้า","เสนอวางคู่ Good-Better","โชว์ POP/Planogram","ปิดดีล Mix-SKU + ขั้นต่ำ","นัดติดตาม 2 สัปดาห์"].map((t,i)=> (
                    <li key={i} className="p-3 rounded-xl bg-gray-50">{i+1}. {t}</li>
                  ))}
                </ol>
              </CardBody>
            </Card>
          </div>
        );
      }

      function Product101() {
        return (
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-5">
            {products.map((p)=> (
              <Card key={p.id}>
                <CardHeader title={p.name} subtitle={p.segment} icon={<Ico>🛒</Ico>} />
                <CardBody>
                  <div className="flex flex-wrap gap-2 mb-3">
                    {p.strength.map((s,idx)=>(<Tag key={idx}>{s}</Tag>))}
                  </div>
                  <div className="text-sm text-gray-600 mb-4">
                    <b>การใช้งาน:</b> {p.usecases.join(" • ")}
                  </div>
                  <div className="text-xs text-gray-500">ต้นทุนโดยประมาณ: {currency(p.unitCost)} / ชิ้น • SRP: {currency(p.srp)} / ชิ้น</div>
                </CardBody>
              </Card>
            ))}
            <Card className="lg:col-span-2">
              <CardHeader title="How to choose" subtitle="ป้ายเปรียบเทียบให้ลูกค้าเข้าใจเร็ว" icon={<Ico>✅</Ico>} />
              <CardBody>
                <div className="grid sm:grid-cols-3 gap-3 text-sm">
                  <div className="p-3 rounded-xl bg-gray-50">
                    <div className="font-semibold">Zinc Carbon</div>
                    <div>- งานทั่วไป, ราคาประหยัด</div>
                    <div>- รีโมท, ของเล่นเบา</div>
                  </div>
                  <div className="p-3 rounded-xl bg-gray-50">
                    <div className="font-semibold">Alkaline</div>
                    <div>- ทนกว่า 3–5 เท่า</div>
                    <div>- ไมค์ไร้สาย, ไฟฉายแรง</div>
                  </div>
                  <div className="p-3 rounded-xl bg-gray-50">
                    <div className="font-semibold">Rechargeable*</div>
                    <div>- ใช้ซ้ำ คุ้มในระยะยาว</div>
                    <div className="text-[11px] text-gray-500">*ขึ้นกับกลุ่มสินค้า</div>
                  </div>
                </div>
              </CardBody>
            </Card>
          </div>
        );
      }

      function Objection() {
        const [filter, setFilter] = useState("");
        const list = objectionBank.filter(o => o.type.includes(filter) || o.reply.includes(filter));
        return (
          <Card>
            <CardHeader title="Objection Handling" subtitle="คลังคำตอบโต้แย้งยอดนิยม" icon={<Ico>⚠️</Ico>} />
            <CardBody>
              <div className="mb-3">
                <input value={filter} onChange={(e)=>setFilter(e.target.value)} placeholder="ค้นหาเช่น ราคา, พื้นที่ชั้น" className="w-full rounded-xl border border-gray-200 px-3 py-2 text-sm"/>
              </div>
              <div className="space-y-3">
                {list.map((o)=> (
                  <div key={o.id} className="p-3 rounded-xl bg-gray-50">
                    <div className="text-sm"><b>ข้อโต้แย้ง:</b> {o.type}</div>
                    <div className="text-sm text-gray-700 mt-1"><b>แนวทางตอบ:</b> {o.reply}</div>
                  </div>
                ))}
                {list.length===0 && <div className="text-sm text-gray-500">ไม่พบผลลัพธ์</div>}
              </div>
            </CardBody>
          </Card>
        );
      }

      function Roleplay() {
        const [i, setI] = useState(0);
        const s = scenarios[i];
        const [show, setShow] = useState(false);
        useEffect(()=> setShow(false), [i]);
        return (
          <Card>
            <CardHeader title={s.title} subtitle={<span className="text-gray-500">Scenario {i+1} / {scenarios.length}</span>} icon={<Ico>💬</Ico>} />
            <CardBody>
              <div className="flex flex-wrap items-center justify-between gap-3 mb-4">
                <div className="text-sm text-gray-600">{s.customer}</div>
                <div className="flex gap-2">
                  <Button onClick={()=> setI(Math.max(0, i-1))}><span className="mr-1">‹</span> ก่อนหน้า</Button>
                  <Button onClick={()=> setI(Math.min(scenarios.length-1, i+1))}>ถัดไป <span className="ml-1">›</span></Button>
                </div>
              </div>
              <div className="grid md:grid-cols-2 gap-4">
                <div className="p-3 rounded-xl bg-gray-50">
                  <div className="font-semibold mb-2">ภารกิจ</div>
                  <ul className="list-disc pl-5 space-y-1 text-sm">
                    {s.tasks.map((t,idx)=>(<li key={idx}>{t}</li>))}
                  </ul>
                </div>
                <div className="p-3 rounded-xl bg-gray-50">
                  <div className="font-semibold mb-2">Best Practice</div>
                  <ul className="list-disc pl-5 space-y-1 text-sm">
                    {s.bestPractice.map((t,idx)=>(<li key={idx}>{t}</li>))}
                  </ul>
                </div>
              </div>
              <div className="mt-4">
                {!show ? (
                  <PrimaryButton onClick={()=> setShow(true)}>แสดงสคริปต์ตัวอย่าง</PrimaryButton>
                ) : (
                  <div className="p-3 rounded-xl bg-black text-white text-sm">{s.samplePitch}</div>
                )}
              </div>
            </CardBody>
          </Card>
        );
      }

      function SalesCalculator() {
        const [form, setForm] = useState({ sku: "LR6T", qty: 120, unitCost: 18.5, sellPrice: 32, discount: 5, invoices: 30, van: 3, days: 5 });
        const selected = useMemo(()=> products.find(p=> p.id === form.sku) || products[0], [form.sku]);

        useEffect(()=> {
          setForm(f => ({ ...f, unitCost: selected.unitCost, sellPrice: selected.srp }));
        }, [selected.id]);

        const marginPerUnit = useMemo(()=> num(form.sellPrice) - num(form.discount) - num(form.unitCost), [form]);
        const marginPct = useMemo(()=> ((marginPerUnit / Math.max(0.01, num(form.sellPrice))) * 100).toFixed(1), [marginPerUnit, form.sellPrice]);
        const revenue = useMemo(()=> (num(form.sellPrice) - num(form.discount)) * num(form.qty), [form]);
        const gm = useMemo(()=> marginPerUnit * num(form.qty), [marginPerUnit, form.qty]);
        const invPerVanPerDay = useMemo(()=> (num(form.invoices) / Math.max(1, num(form.van)) / Math.max(1, num(form.days))).toFixed(2), [form]);

        return (
          <div className="grid grid-cols-1 lg:grid-cols-5 gap-5">
            <Card className="lg:col-span-2">
              <CardHeader title="Deal Builder" subtitle="จำลองโปร/ดีลหน้าร้าน" icon={<Ico>🧮</Ico>} />
              <CardBody>
                <div className="grid grid-cols-2 gap-3 text-sm">
                  <label className="col-span-2">SKU
                    <select value={form.sku} onChange={(e)=> setForm({...form, sku: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2">
                      {products.map(p=> <option key={p.id} value={p.id}>{p.name}</option>)}
                    </select>
                  </label>
                  <label>จำนวน (ชิ้น)
                    <input type="number" value={form.qty} onChange={(e)=> setForm({...form, qty: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                  </label>
                  <label>ต้นทุน/ชิ้น (บาท)
                    <input type="number" value={form.unitCost} onChange={(e)=> setForm({...form, unitCost: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                  </label>
                  <label>ราคาขาย/ชิ้น (บาท)
                    <input type="number" value={form.sellPrice} onChange={(e)=> setForm({...form, sellPrice: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                  </label>
                  <label>ส่วนลด/ชิ้น (บาท)
                    <input type="number" value={form.discount} onChange={(e)=> setForm({...form, discount: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                  </label>
                </div>
                <div className="mt-4 flex gap-2">
                  <Tag>Margin/ชิ้น: {currency(marginPerUnit)}</Tag>
                  <Tag>GM%: {marginPct}%</Tag>
                </div>
              </CardBody>
            </Card>

            <Card className="lg:col-span-3">
              <CardHeader title="ผลลัพธ์ดีล" subtitle="คำนวณอัตโนมัติ" icon={<Ico>📈</Ico>} />
              <CardBody>
                <div className="grid sm:grid-cols-3 gap-3 text-sm">
                  <div className="p-3 rounded-xl bg-gray-50"><div className="text-gray-500">รายได้ (หลังหักส่วนลด)</div><div className="text-xl font-semibold">{currency(revenue)}</div></div>
                  <div className="p-3 rounded-xl bg-gray-50"><div className="text-gray-500">กำไรขั้นต้นรวม</div><div className="text-xl font-semibold">{currency(gm)}</div></div>
                  <div className="p-3 rounded-xl bg-gray-50"><div className="text-gray-500">GM% ต่อชิ้น</div><div className="text-xl font-semibold">{marginPct}%</div></div>
                </div>
                <div className="mt-4 border-t pt-4">
                  <div className="grid sm:grid-cols-3 gap-3">
                    <label className="text-sm">จำนวนบิล/สัปดาห์
                      <input type="number" value={form.invoices} onChange={(e)=> setForm({...form, invoices: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                    </label>
                    <label className="text-sm">จำนวนรถ (van)
                      <input type="number" value={form.van} onChange={(e)=> setForm({...form, van: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                    </label>
                    <label className="text-sm">จำนวนวันทำงาน/สัปดาห์
                      <input type="number" value={form.days} onChange={(e)=> setForm({...form, days: e.target.value})} className="w-full mt-1 rounded-xl border border-gray-200 px-3 py-2" />
                    </label>
                  </div>
                  <div className="mt-3"><Tag>Invoice/Van/Day: {invPerVanPerDay}</Tag></div>
                </div>
              </CardBody>
            </Card>
          </div>
        );
      }

      function Quiz() {
        const [step, setStep] = useState(0);
        const [score, setScore] = useState(0);
        const [answers, setAnswers] = useState([]);

        const onSelect = (i) => {
          if (answers[step] != null) return;
          const correct = i === quiz[step].answer;
          setAnswers((a)=> { const b = [...a]; b[step] = i; return b; });
          if (correct) setScore((s)=> s+1);
        };
        const restart = () => { setStep(0); setScore(0); setAnswers([]); };

        if (step >= quiz.length) {
          const pct = Math.round((score / quiz.length) * 100);
          return (
            <Card>
              <CardHeader title="สรุปผลแบบทดสอบ" subtitle={\`ได้ \${score} จาก \${quiz.length} ข้อ (\${pct}%)\`} icon={<Ico>🏆</Ico>} />
              <CardBody>
                <div className="flex items-center gap-2 mb-4">
                  <Tag>{pct >= 80 ? "ยอดเยี่ยม!" : pct >= 60 ? "ดีมาก" : "ทบทวนอีกนิด"}</Tag>
                  <Button onClick={restart}>ทำใหม่</Button>
                </div>
                <div className="text-sm text-gray-600">คำแนะนำ: ทวนส่วน Playbook และ Role‑play เพื่อยกระดับการขาย Alkaline</div>
              </CardBody>
            </Card>
          );
        }

        const q = quiz[step];
        return (
          <Card>
            <CardHeader title={\`ข้อที่ \${step+1}: \${q.q}\`} subtitle={<span className="text-gray-500">{score} คะแนน</span>} icon={<Ico>🧠</Ico>} />
            <CardBody>
              <div className="grid gap-3">
                {q.choices.map((c, i)=> {
                  const selected = answers[step] === i;
                  const correct = q.answer === i;
                  return (
                    <button key={i} onClick={()=> onSelect(i)} className={\`text-left p-3 rounded-xl border transition \${selected ? (correct ? "border-green-500 bg-green-50" : "border-red-500 bg-red-50") : "border-gray-200 hover:border-gray-300"}\`}>
                      {c}
                    </button>
                  );
                })}
              </div>
              {answers[step] != null && (
                <div className="mt-3 p-3 rounded-xl bg-gray-50 text-sm text-gray-700">
                  คำอธิบาย: {q.explain}
                </div>
              )}
              <div className="mt-4 flex justify-between">
                <Button onClick={()=> setStep(Math.max(0, step-1))}>ย้อนกลับ</Button>
                <PrimaryButton onClick={()=> setStep(step+1)}>ถัดไป</PrimaryButton>
              </div>
            </CardBody>
          </Card>
        );
      }

      function App() {
        const [tab, setTab] = useState("dashboard");
        return (
          <div className="min-h-screen p-4 md:p-8">
            <div className="max-w-7xl mx-auto">
              <header className="mb-6 flex flex-col md:flex-row md:items-end md:justify-between gap-4">
                <div>
                  <h1 className="text-2xl md:text-3xl font-bold tracking-tight">Battery Sales Training • Panasonic (TH)</h1>
                  <p className="text-gray-600 mt-1 text-sm">เว็บฝึกอบรมสำหรับเซลส์ ช่องทาง TT/MT และ B2B – โฟกัสการขายถ่านไฟฉาย</p>
                </div>
                <SectionNav current={tab} onChange={setTab} />
              </header>

              <main className="space-y-6">
                {tab === "dashboard" && <Dashboard />}
                {tab === "playbook" && <Playbook />}
                {tab === "product" && <Product101 />}
                {tab === "objection" && <Objection />}
                {tab === "roleplay" && <Roleplay />}
                {tab === "calculator" && <SalesCalculator />}
                {tab === "quiz" && <Quiz />}
              </main>

              <footer className="text-xs text-gray-500 mt-8 flex items-center gap-2">
                <span>💡</span> Tip: ผู้จัดการสามารถแก้ไขข้อมูลสินค้า/ราคา/สคริปต์ได้จากตัวแปรในไฟล์นี้ให้ตรงกับแคมเปญปัจจุบัน
              </footer>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
